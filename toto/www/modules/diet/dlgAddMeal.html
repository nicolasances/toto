<md-toolbar md-scroll-shrink="true"  >
	<div class="md-toolbar-tools">
		<md-button class="md-icon-button" aria-label="Go Back">
			<md-icon md-svg-src="images/svg/back.svg" ng-click="cancel()"></md-icon>
		</md-button>
		<span class="title" flex>Add a meal</span>
	</div>
</md-toolbar>
<div class="toto-form" style="padding: 24px; margin-top: 38px;">
	<div class="step-tracker" layout="row">
		<div flex></div>
		<div ng-repeat="step in steps" class="step {{currentStep == step ? 'current' : ''}}">{{step}}</div>
		<div flex></div>
	</div>
	<div ng-if="currentStep == 1">
		<div class="toto-input-container">
			<label>Date</label>
			<md-datepicker ng-model="meal.date" ></md-datepicker>
		</div>
		<div class="toto-input-container">
			<label>Time (HH:mm)</label>
			<input type="text" ng-model="meal.time"/>
		</div>
		<button ng-click="nextStep()">Next</button>
	</div>
	<div ng-if="currentStep == 2 && !hideAll" >
		<div class="title">Add some aliments</div>
		<div class="aliment-container" ng-repeat="food in meal.aliments">
			<div class="diet-food" layout="row">
				<div layout="column">
					<div class="avatar" layout="column"><div flex></div><md-icon md-svg-src="images/diet/cat/{{food.category}}.svg"></md-icon><div flex></div></div>
					<div flex></div>
				</div>
				<div layout="column" flex>
					<div class="name">{{food.name}}</div>
					<div class="details">
						<span ng-if="food.amountGr != null">Amount: {{food.amountGr}} gr.</span>
						<span ng-if="food.amountMl != null">Amount: {{food.amountMl}} ml.</span>
						<span ng-if="food.amount != null">Amount: {{food.amount}}</span>
					</div>
				</div>
			</div>
		</div>
		<div layout="row">
			<div class="add-aliment accent-color" ng-click="addAliment()">
				<md-icon md-svg-src="images/svg/add.svg"></md-icon>
			</div>
		</div>
		<button ng-click="answer(meal)">Done</button>
	</div>
	<div ng-if="showAliments">
		<div class="title">Select the aliment</div>
		<diet-foods on-select="selectFood" hide-add="true"></diet-foods>
	</div>
	<div ng-if="showAmount">
		<div class="title">How much of that did you have?</div>
		<div class="toto-alternatives-picker" layout="row">
			<div flex></div>
			<div ng-class="['alternative', 'first', newFoodUnit == 'gr' ? 'accent-color' : '']" ng-click="selectUnit('gr')">gr</div>
			<div ng-class="['alternative', newFoodUnit == 'ml' ? 'accent-color' : '']" ng-click="selectUnit('ml')">ml</div>
			<div ng-class="['alternative', 'last', newFoodUnit == null ? 'accent-color' : '']" ng-click="selectUnit(null)">%</div>
			<div flex></div>
		</div>
		<div class="toto-input-container">
			<label>Amount</label>
			<input type="text" ng-model="model.newFoodAmount"/>
		</div>
		<button ng-click="confirmAliment()">Add it</button>
	</div>
</div>
